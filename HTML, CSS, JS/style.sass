// category variables

$debug-border: 2px solid red
$table-border: .2rem solid black
$section-space: 12em

// link https://coolors.co/9e788f-a9b3ce-7cdedc-7284a8-474954
$mountbatten-pink: #9e788fff
$wild-blue-yonder: #a9b3ceff
$middle-blue-green: #7cdedcff
$shadow-blue: #7284a8ff
$dark-liver: #474954ff



// category mixins

// link https://css-tricks.com/ (studied source code)
@mixin diagonal-divide($start-colour, $end-colour, $span: false, $height: $section-space, $position: absolute, $header-banner: false)
  &::after
    content: ""
    display: block
    width: 100%
    height: $height
    background: linear-gradient($start-colour, $end-colour)
    position: $position

    // Avoids background from shining throught between <section> and ::after
    @if $position == relative
      bottom: -1px
      
    @if $span
      grid-column: span 2 
    @else
      top: 0
    left: 0

    @if $header-banner
      z-index: -1
      clip-path: polygon(0% 0%, 100% 0%, 100% 50%, 0% 100%)
    @else
      z-index: 0
      clip-path: polygon(0% 100%, 100% 0%, 100% 100%)

  // Alternates right/left tilt of diagonal divide
  // Avoids touching ::after of <header>
  &:nth-of-type(odd):not(header)::after
    clip-path: polygon(0% 100%, 0% 0%, 100% 100%)

  // Avoids diagonal at the bottom of document
  &:last-of-type:not(header)::after
    display: none



// category style

body
  margin: 0
  font-family: Arial, Helvetica, sans-serif
  font-size: 1.2em
  display: flex
  flex-flow: row wrap
  justify-content: center

header
  margin: 2em
  padding: 3em
  text-align: center
  @include diagonal-divide($start-colour: $wild-blue-yonder, $end-colour: $middle-blue-green, $span: false, $height: $section-space, $position: absolute, $header-banner: true)

main
  width: 100vw

section
  background: linear-gradient($shadow-blue, $mountbatten-pink)
  width: 100%
  display: grid
  grid-template-rows: auto auto $section-space
  grid-template-columns: 2fr 1fr
  column-gap: 4em
  position: relative
  @include diagonal-divide($span: true, $start-colour: $dark-liver, $end-colour: $shadow-blue, $position: relative)

  // nth-of-type on <section> since <h2>s are not siblings
  // link https://developer.mozilla.org/en-US/docs/Web/CSS/:nth-of-type
  &:nth-of-type(odd)
    h2
      text-align: right


h2
  position: relative
  padding: 0 2em
  top: -5em
  grid-column: span 2
  text-decoration: underline

table
  margin: 1em
  grid-column: span 2
  border: $table-border
  border-collapse: collapse

  th
    padding: 1em
    font-size: 1.2em

  tr, td
    padding: .6em
  
  th, tr, td
    border: $table-border